name: ovh-dyndns-dev
services:
  ovh-dyndns-dev:
    container_name: ovh_dyndns_dev
    image: ovh_dyndns:dev
    build:
      context: .
      dockerfile: Dockerfile
    restart: unless-stopped
    command: tail -f /dev/null
    environment:
      PYTHONPATH: /app
      GEVENT_SUPPORT: True
      PYTHONDONTWRITEBYTECODE: 1
      # Development environment variables
      LOGGER_LEVEL: DEBUG
      UPDATE_INTERVAL: 60  # Faster updates for testing
    volumes:
      - ../src/:/app
      - ./logs:/app/logs    # Mount logs directory
      - ./hosts.json:/app/hosts.json  # Mount hosts configuration
    network_mode: host
    # Optional: Add port mapping for debugging
    ports:
      - "5678:5678"  # Debug port
